# Build Journal - January 10, 2026

In this build journal, document all steps done with reasons why those steps were taken. Ensure that everything document has the date and time.

---

## Phase 1: Pose Detection Foundation - Frame Processing Implementation

**Date:** January 10, 2026  
**Time:** Starting ~22:00 PST

### Objective
Implement frame capture from camera feed to enable real-time pose detection. Currently, the camera displays but no frames are being processed, so pose detection doesn't work.

### Current Status
- ✅ Camera feed displays
- ✅ Model loads successfully
- ✅ Pose detection service ready
- ✅ Visualization components ready
- ❌ Frame processing not implemented (placeholder)
- ❌ No pose detection happening

### Goal
Get pose detection working by capturing frames from the camera and processing them through the MoveNet model.

---

### Step 1: Attempt Frame Processing Implementation
**Time:** ~22:00 PST

**Action:** Attempted to implement frame capture from camera using `takePictureAsync`.

**Challenge Encountered:**
- Browser APIs (document.createElement, createImageBitmap, Image constructor) don't work in React Native
- Need React Native compatible method to convert image to TensorFlow tensor
- `tf.browser.fromPixels` requires browser DOM elements which don't exist in React Native

**Current Status:**
- Frame capture structure in place
- Image resizing using expo-image-manipulator
- Tensor conversion not yet implemented (needs React Native compatible solution)

**Next Steps:**
- Research React Native compatible image-to-tensor conversion
- Consider using expo-gl texture for better performance
- Or find/implement a React Native image-to-tensor utility

**Files Modified:**
- `src/screens/CameraScreen.tsx` - Added frame processing structure (incomplete)

**Note:** This is a complex problem. Frame processing in React Native with TensorFlow.js requires special handling. May need to use expo-gl or a custom solution.

---

## Current Status & Challenge

**Time:** ~22:05 PST

### The Problem
Converting camera frames to TensorFlow tensors in React Native is more complex than in web browsers because:
1. No DOM APIs (no canvas, Image elements, etc.)
2. `tf.browser.fromPixels` requires browser DOM elements
3. React Native Image component doesn't provide direct pixel access
4. Need native bridge or alternative approach

### Research Needed
1. **expo-gl texture approach** - Use WebGL texture from camera, then convert to tensor
2. **react-native-image-to-tensor** - Check if library exists
3. **Custom native module** - Write native code to extract pixels
4. **Alternative ML framework** - Consider React Native Vision Camera or similar

### Current Implementation Status
- ✅ Frame capture structure in place
- ✅ Image resizing working (expo-image-manipulator)
- ❌ Tensor conversion not implemented (blocking issue)
- ⚠️ Frame processing rate reduced to 5 FPS (from 30 FPS target)

### Next Steps
1. Research React Native + TensorFlow.js image-to-tensor solutions
2. Consider using expo-gl with camera texture
3. Or evaluate alternative camera/ML libraries
4. Implement working solution once approach is determined

**Decision Point:** Need to choose the best approach before continuing implementation.
